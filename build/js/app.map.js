{"version":3,"sources":["webpack:///./src/js/quoter.js","webpack:///./src/js/util.js"],"names":[],"mappings":"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","file":"app.bundle.js","sourcesContent":["'use strict';\n\nimport 'babel-polyfill';\nimport * as util from './util';\n\nconst random = util.random,\n      template = util.template,\n      getRandomColor = util.getRandomColor,\n      createTags = util.createTags,\n      makeElement = util.makeElement,\n      clearArray = util.clearArray,\n      useQuote = util.useQuote,\n      createQuotebox = util.createQuotebox,\n      hide = util.hide,\n      show = util.show,\n      createNewQuote = util.createNewQuote,\n      changeBackgroundColor = util.changeBackgroundColor,\n      extend = util.extend;\n\nconst defaults = {\n  \"templates\": {\n    \"quote\": { \"begin\": \"<p class='quote'>\", \"end\": \"</p>\" },\n    \"source\": { \"begin\": \"<p class='source'>\", \"end\": \"</p>\" },\n    \"citation\": { \"begin\": \"<span class='citation'>\", \"end\": \"</span>\" },\n    \"year\": { \"begin\": \"<span class='year'>\", \"end\": \"</span>\" },\n    \"tags\": { \"begin\": \"<span class='tags'>Tags: \", \"end\": \"</span>\" },\n    \"tag\": { \"begin\": \"<p class='tag'>\", \"end\": \"</p>\" },\n    \"title\": {\"begin\": \"<p class='title'>\", \"end\": \"</p>\" },\n    \"quotebox\": {\"begin\": \"<div class='\", \"end\": \"'></div>\" }\n  },\n  \"quoteClass\": \"quote-box\",\n  \"title\": \"\"\n};\n\nfunction Quoter(quoteArray, options) {\n  if(!options) { options = {}; }\n  this.config = extend({}, defaults, options);\n  this.quotes = {\n    \"new\": quoteArray,\n    \"used\": []\n  };\n};\n\n// returns a random quote object from the quotes array\nQuoter.prototype.randomQuote = function() {\n  var randomIndex = random(0, this.quotes.new.length);\n\n  if (this.quotes.used.length === this.quotes.new.length) { // If all the quotes have been used...\n    clearArray(this.quotes.used);\n  }\n\n  if (!this.quotes.used.includes(randomIndex)) { // If we haven't used this quote before...\n    return useQuote(this.quotes, randomIndex);\n  }\n\n  return this.randomQuote(); // Recursion like woah ;)\n\n};\n\nQuoter.prototype.printQuote = function() {\n  var that = this;\n  var randQuote = this.randomQuote(); // Get a random quote\n\n  hide(this.quoteBox);\n  this.quoteBox = createNewQuote.call(this.config.templates, this.quoteBox, randQuote);\n  changeBackgroundColor(this.billboard);\n  show(this.quoteBox);\n\n  this.resetTimer();\n};\n\nQuoter.prototype.resetTimer = function() {\n  var that = this;\n  if(that.duration) {\n    if(that.autoPlay) {window.clearTimeout(that.autoPlay);}\n    that.autoPlay = window.setTimeout(that.printQuote.bind(that), that.duration);\n  }\n};\n\nQuoter.prototype.attachTo = function(cssSelector) {\n  this.billboard = document.querySelector(cssSelector);\n  var quoteboxElement = createQuotebox.call(this.config.templates, this.config.quoteClass, this.config.title);\n  this.billboard.insertBefore(quoteboxElement, this.billboard.firstChild);\n  this.quoteBox = document.querySelector(`${cssSelector} .${this.config.quoteClass}`);\n  return this;\n};\n\nQuoter.prototype.setButton = function(cssSelector) {\n  var that = this;\n  var targetButton = document.querySelector(cssSelector);\n  targetButton.addEventListener('click', that.printQuote.bind(that));\n  return that;\n};\n\nQuoter.prototype.setAutoplay = function(duration) {\n  var that = this;\n  this.duration = duration;\n  window.setTimeout(that.printQuote.bind(that), duration);\n  return that;\n};\n\nwindow.Quoter = Quoter;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/quoter.js\n **/","'use strict';\n\nvar template = function(key, content) {\n  return `${this[key].begin}${content}${this[key].end}`;\n};\n\n// Handles each sub-tag template\nvar createTags = function(tagString) {\n  var that = this;\n  return tagString.split(' ').map(function (tag) {\n    return template.call(that, 'tag', tag);\n  }).join('');\n};\n\n// assembles the html string for each element from the template array\nvar makeElement = function(obj, key) {\n  var content = (key === 'tags') ? createTags.call(this, obj[key]) : obj[key];\n  return template.call(this, key, content);\n};\n\nvar createQuotebox = function(classname, title) {\n  var quotebox = document.createElement('div');\n  quotebox.innerHTML = template.call(this, 'title', title);\n  quotebox.className = classname;\n  return quotebox;\n};\n\nvar createNewQuote = function(quoteBox, randQuote) {\n  var that = this;\n  // Get keynames in an array, then map through them\n  quoteBox.innerHTML = '';\n  Object.keys(randQuote).map(function(key, index) {\n    // Append first 2 to the quoteBox, the rest go inside the source element\n    var target = index < 2 ? quoteBox : quoteBox.getElementsByClassName('source')[0];\n\n    target.innerHTML += makeElement.call(that, randQuote, key);\n  });\n  return quoteBox;\n};\n\n// Random integer generator\nvar random = function(min, max) {\n  var low = (min < max) ? min : max;\n  var high = (max > min) ? max : min;\n  return Math.floor(Math.random() * (high - low) + low);\n};\n\n// Sets a random color based on the color object\nvar getRandomColor = function() {\n  return `rgba(${random(0, 256)}, ${random(0, 256)}, ${random(0, 256)}, 1.0)`;\n};\n\nvar clearArray = function(array) {\n  array.length = 0; // Reset the list of used quotes if we've used them all\n};\n\nvar useQuote = function(quoteObj, index) {\n  quoteObj.used.push(index); // Add it to the list of used quotes\n  return quoteObj.new[index]; // Return the quote\n};\n\nvar hide = function(element) {\n  element.style.opacity = '0';\n};\n\nvar show = function(element) {\n  element.style.opacity = '1';\n};\n\nvar changeBackgroundColor = function(billboard) {\n  billboard.style.backgroundColor = getRandomColor();\n};\n\n// extend code snippet from http://youmightnotneedjquery.com/,\n// https://github.com/HubSpot/YouMightNotNeedjQuery\n\nvar extend = function(out) {\n  out = out || {};\n\n  for (var i = 1; i < arguments.length; i++) {\n    var obj = arguments[i];\n\n    if (!obj)\n      continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        if (typeof obj[key] === 'object')\n          out[key] = extend(out[key], obj[key]);\n        else\n          out[key] = obj[key];\n      }\n    }\n  }\n\n  return out;\n};\n\nmodule.exports.random = random;\nmodule.exports.template = template;\nmodule.exports.getRandomColor = getRandomColor;\nmodule.exports.createTags = createTags;\nmodule.exports.makeElement = makeElement;\nmodule.exports.clearArray = clearArray;\nmodule.exports.useQuote = useQuote;\nmodule.exports.createQuotebox = createQuotebox;\nmodule.exports.hide = hide;\nmodule.exports.show = show;\nmodule.exports.createNewQuote = createNewQuote;\nmodule.exports.changeBackgroundColor = changeBackgroundColor;\nmodule.exports.extend = extend;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/util.js\n **/"],"sourceRoot":""}