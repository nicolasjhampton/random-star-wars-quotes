{"version":3,"sources":["webpack:///./src/js/quoter.js","webpack:///./src/js/util.js","webpack:///./src/js/template_engine.js"],"names":[],"mappings":"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","file":"app.bundle.js","sourcesContent":["'use strict';\n\n//import 'babel-polyfill';\nimport * as util from './util';\nimport {TemplateEngine} from './template_engine';\n\nconst defaults = {\n  \"templates\": {\n    \"quote\": { \"begin\": \"<p class='quote'>\", \"end\": \"</p>\" },\n    \"source\": { \"begin\": \"<p class='source'>\", \"end\": \"</p>\" },\n    \"citation\": { \"begin\": \"<span class='citation'>\", \"end\": \"</span>\" },\n    \"year\": { \"begin\": \"<span class='year'>\", \"end\": \"</span>\" },\n    \"tags\": { \"begin\": \"<span class='tags'>Tags: \", \"end\": \"</span>\" },\n    \"tag\": { \"begin\": \"<p class='tag'>\", \"end\": \"</p>\" },\n    \"title\": {\"begin\": \"<p class='title'>\", \"end\": \"</p>\" },\n    \"quotebox\": {\"begin\": \"<div class='\", \"end\": \"'></div>\" }\n  },\n  \"quoteClass\": \"quote-box\",\n  \"title\": \"\"\n};\n\nfunction Quoter(quoteArray, options) {\n  if(!options) { options = {}; }\n  this.config = util.extend({}, defaults, options);\n  this.tEng = new TemplateEngine(this.config.templates);\n  this.quotes = quoteArray;\n};\n\nQuoter.prototype.createQuotebox = function(classname, title) {\n  var quoteBox = document.createElement('div');\n  quoteBox.innerHTML = this.tEng.makeElement({\"title\": title}, 'title');\n  quoteBox.className = classname;\n  return quoteBox;\n};\n\nQuoter.prototype.createNewQuote = function(randQuote) {\n  var quoteBox = this.createQuotebox('quote-box', '');\n  Object.keys(randQuote).map((key, index) => {\n    var target = index < 2 ? quoteBox : quoteBox.getElementsByClassName('source')[0];\n    target.innerHTML += this.tEng.makeElement(randQuote, key);\n  });\n  return quoteBox;\n};\n\n// returns a random quote object from the quotes array\nQuoter.prototype.randomQuote = function randomQuote() {\n  randomQuote.used = randomQuote.used || []; //self-reference;\n\n  var randomIndex = util.random(0, this.quotes.length);\n\n  if (randomQuote.used.length === this.quotes.length) { // If all the quotes have been used...\n    util.clearArray(randomQuote.used);\n  }\n\n  if (!randomQuote.used.includes(randomIndex)) {\n    randomQuote.used.push(randomIndex);\n    return this.quotes[randomIndex];\n  }\n\n  return this.randomQuote(); // Recursion like woah ;)\n\n};\n\nQuoter.prototype.printQuote = function() {\n  var that = this;\n  var randQuote = that.randomQuote(); // Get a random quote\n\n  util.hide(this.quoteBox);\n  var newQuoteBox = this.createNewQuote(randQuote);\n  this.billboard.replaceChild(newQuoteBox, this.quoteBox);\n  this.quoteBox = newQuoteBox;\n  util.changeBackgroundColor(this.billboard);\n  util.show(this.quoteBox);\n\n  this.resetTimer();\n};\n\nQuoter.prototype.resetTimer = function() {\n  var that = this;\n  if(this.duration) {\n    if(this.autoPlay) {window.clearTimeout(that.autoPlay);}\n    this.autoPlay = window.setTimeout(that.printQuote.bind(that), this.duration);\n  }\n};\n\nQuoter.prototype.attachTo = function(cssSelector) {\n  this.billboard = document.querySelector(cssSelector);\n  this.quoteBox = this.createQuotebox(this.config.quoteClass, this.config.title);\n  this.billboard.insertBefore(this.quoteBox, this.billboard.firstChild);\n  return this;\n};\n\nQuoter.prototype.setButton = function(cssSelector) {\n  var that = this;\n  var targetButton = document.querySelector(cssSelector);\n  targetButton.addEventListener('click', that.printQuote.bind(that));\n  return this;\n};\n\nQuoter.prototype.setAutoplay = function(duration) {\n  var that = this;\n  this.duration = duration;\n  window.setTimeout(that.printQuote.bind(that), duration);\n  return this;\n};\n\nmodule.exports.Quoter = Quoter;\nwindow.Quoter = Quoter;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/quoter.js\n **/","'use strict';\n\n// Random integer generator\nvar random = function(min, max) {\n  var low = (min < max) ? min : max;\n  var high = (max > min) ? max : min;\n  return Math.floor(Math.random() * (high - low) + low);\n};\n\n// Sets a random color based on the color object\nvar getRandomColor = function() {\n  return `rgba(${random(0, 256)}, ${random(0, 256)}, ${random(0, 256)}, 1.0)`;\n};\n\nvar clearArray = function(array) {\n  array.length = 0; // Reset the list of used quotes if we've used them all\n};\n\nvar hide = function(element) {\n  element.style.opacity = '0';\n};\n\nvar show = function(element) {\n  element.style.opacity = '1';\n};\n\nvar changeBackgroundColor = function(billboard) {\n  billboard.style.backgroundColor = getRandomColor();\n};\n\n// extend code snippet modified from YouMightNotNeedjQuery\n// http://youmightnotneedjquery.com/,\n// https://github.com/HubSpot/YouMightNotNeedjQuery\n\nvar extend = function(out) {\n  out = out || {};\n  [...arguments].slice(1).map(function(obj) {\n    if (!obj) { return false; }\n    Object.keys(obj).map((key) => {\n      if (obj.hasOwnProperty(key)) {\n        out[key] = (typeof obj[key] === 'object') ? extend(out[key], obj[key]) : obj[key];\n      }\n    });\n  });\n  return out;\n};\n\nmodule.exports.random = random;\nmodule.exports.getRandomColor = getRandomColor;\nmodule.exports.clearArray = clearArray;\nmodule.exports.hide = hide;\nmodule.exports.show = show;\nmodule.exports.changeBackgroundColor = changeBackgroundColor;\nmodule.exports.extend = extend;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/util.js\n **/","'use strict';\n\nvar TemplateEngine = function(templateObj) {\n\n  this.layoutFunc = (key) => templateObj[key];\n  this.conditional = checkPlural;\n  this.condOne = plainFormat;\n  this.condTwo = stringSpaceFormat;\n\n}\n\nfunction checkPlural(key) {\n  return key.slice(-1) == 's';\n}\n\nvar plainFormat = (content, key) => {\n  return () => {\n    return content[key];\n  }\n}\n\nvar stringSpaceFormat = (content, key, that) => {\n  return () => {\n    return content[key].split(' ').reduce((start, next) => {\n      return start + that.template(() => next, key.slice(0,-1));\n    }, '');\n  }\n}\n\nTemplateEngine.prototype.template = function(contentFunc, key) {\n  return `${this.layoutFunc(key).begin}${contentFunc()}${this.layoutFunc(key).end}`;\n}\n\nTemplateEngine.prototype.makeContentFunc = function(content, key) {\n  var formatFunc = (this.conditional(key)) ? this.condTwo : this.condOne;\n  return formatFunc(content, key, this);\n}\n\nTemplateEngine.prototype.makeElement = function(content, key) {\n  var contentFunc = this.makeContentFunc(content, key);\n  return this.template(contentFunc, key);\n}\n\nmodule.exports.TemplateEngine = TemplateEngine;\nmodule.exports.checkPlural = checkPlural;\nmodule.exports.plainFormat = plainFormat;\nmodule.exports.stringSpaceFormat = stringSpaceFormat;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/template_engine.js\n **/"],"sourceRoot":""}